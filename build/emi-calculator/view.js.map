{"version":3,"file":"emi-calculator/view.js","mappings":"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","sources":["webpack://gb-blocks/external module \"@wordpress/interactivity\"","webpack://gb-blocks/webpack/bootstrap","webpack://gb-blocks/webpack/runtime/make namespace object","webpack://gb-blocks/./src/emi-calculator/view.js"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport { store, getContext } from '@wordpress/interactivity';\n\n// Convert large amounts into metric if over a threshold\nfunction convertToMetricIfNeeded(value, threshold, unit) {\n\tif (value > threshold) {\n\t\treturn {\n\t\t\tvalue: (value / 100000).toFixed(2),\n\t\t\tunit: 'Lk',\n\t\t};\n\t} else {\n\t\treturn {\n\t\t\tvalue: value.toFixed(2),\n\t\t\tunit: '',\n\t\t};\n\t}\n}\n\n// Calculate the EMI and related values\nfunction calculateEMI(context) {\n\tif (!context.calculations) {\n\t\tcontext.calculations = {\n\t\t\tprincipalAmount: 0,\n\t\t\trateOfInterest: 0,\n\t\t\tDurationInYears: 0,\n\t\t};\n\t}\n\n\tif (!context.ingredients) {\n\t\tcontext.ingredients = {\n\t\t\temiPerMonth: 0,\n\t\t\ttotalInterest: 0,\n\t\t\ttotalAmountPayable: 0,\n\t\t};\n\t}\n\n\tconst { calculations, ingredients } = context;\n\tconst { principalAmount, rateOfInterest, DurationInYears } = calculations;\n\n\tif (principalAmount > 0 && rateOfInterest > 0 && DurationInYears > 0) {\n\t\tconst monthlyRate = rateOfInterest / (12 * 100);\n\t\tconst totalMonths = DurationInYears * 12;\n\n\t\tconst emiPerMonth =\n\t\t\t(principalAmount * monthlyRate * Math.pow(1 + monthlyRate, totalMonths)) /\n\t\t\t(Math.pow(1 + monthlyRate, totalMonths) - 1);\n\n\t\tconst totalAmountPayable = emiPerMonth * totalMonths;\n\t\tconst totalInterest = totalAmountPayable - principalAmount;\n\n\t\t// Convert and assign EMI\n\t\tconst emi = convertToMetricIfNeeded(emiPerMonth, 100000, 'Lk');\n\t\tcontext.unitemiPerMonthLk = emi.unit;\n\t\tingredients.emiPerMonth = emi.value;\n\n\t\t// Convert and assign total interest\n\t\tconst interest = convertToMetricIfNeeded(totalInterest, 100000, 'Lk');\n\t\tcontext.unittotalInterestLk = interest.unit;\n\t\tingredients.totalInterest = interest.value;\n\n\t\t// Convert and assign total amount payable\n\t\tconst total = convertToMetricIfNeeded(totalAmountPayable, 100000, 'Lk');\n\t\tcontext.unittotalAmountPayableLk = total.unit;\n\t\tingredients.totalAmountPayable = total.value;\n\t} else {\n\t\tingredients.emiPerMonth = 0;\n\t\tingredients.totalInterest = 0;\n\t\tingredients.totalAmountPayable = 0;\n\t}\n}\n\n// Define and store the block context\nstore('create-block/emi-calculator', {\n\tactions: {\n\t\tprincipalAmount: (event) => {\n\t\t\tconst context = getContext();\n\t\t\tif (!context.calculations) {\n\t\t\t\tcontext.calculations = {};\n\t\t\t}\n\t\t\tcontext.calculations.principalAmount = parseFloat(event.target.value) || 0;\n\t\t\tconsole.log('Updated principalAmount:', context.calculations.principalAmount);\n\t\t\tcalculateEMI(context);\n\t\t},\n\t\trateOfInterest: (event) => {\n\t\t\tconst context = getContext();\n\t\t\tif (!context.calculations) {\n\t\t\t\tcontext.calculations = {};\n\t\t\t}\n\t\t\tcontext.calculations.rateOfInterest = parseFloat(event.target.value) || 0;\n\t\t\tconsole.log('Updated rateOfInterest:', context.calculations.rateOfInterest);\n\t\t\tcalculateEMI(context);\n\t\t},\n\t\tDurationInYears: (event) => {\n\t\t\tconst context = getContext();\n\t\t\tif (!context.calculations) {\n\t\t\t\tcontext.calculations = {};\n\t\t\t}\n\t\t\tcontext.calculations.DurationInYears = parseFloat(event.target.value) || 0;\n\t\t\tconsole.log('Updated DurationInYears:', context.calculations.DurationInYears);\n\t\t\tcalculateEMI(context);\n\t\t},\n\t},\n});\n"],"names":["store","getContext","convertToMetricIfNeeded","value","threshold","unit","toFixed","calculateEMI","context","calculations","principalAmount","rateOfInterest","DurationInYears","ingredients","emiPerMonth","totalInterest","totalAmountPayable","monthlyRate","totalMonths","Math","pow","emi","unitemiPerMonthLk","interest","unittotalInterestLk","total","unittotalAmountPayableLk","actions","event","parseFloat","target","console","log"],"sourceRoot":""}